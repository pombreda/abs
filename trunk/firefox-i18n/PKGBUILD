# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.6.6
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('f9e4a5f1b559ce69d216d55948ff542a'
         '168ce0acc4f920a6a49172a203a9ccd3'
         '3d3123f8955508e07ef6ab0656aa80bd'
         '040aa1a75888d7e61e15383abd5903f3'
         '9b1da84623fa75d99900085f51d541ef'
         'fd6d1cb1e04723d2e53f57a5f4e23711'
         'ea3b87325127bf3bac2cb9b279fb1078'
         '61a61edc6f992f35b6021560b7a22558'
         'c15076e1cbcfa42b85de28e6664de03b'
         '1515a450e8e53a3a91b44aea2b0aa3c4'
         '6542bf485b18d7270c718aba91a2c0fa'
         '6d414ba8760833d97a52750fa3cf5f60'
         'fa63e637974763a1c4ef8ef480ed22f4'
         'f70264478cb6c0c5adf818a1822b1297'
         'c5558378e2eb78582848deb158fe2198'
         'f2d46c24aba32871a7afd86eea57525f'
         '455c4cd960912c0a888427376f2f2d05'
         '0c1a19c12e5ae7e813cd44a6f32a5691'
         '55db3216bc794ad13747f0962364cfa3'
         'fe2232ed2e1caad9c19c783c8af8a201'
         'aa7ccb254250e2c69675489d8e237103'
         '4e7fc47b95e9e1ac1da7b8955376bd39'
         '282a999ae6ef3f818d6742ec79b91834'
         '7773ea32471796015ec6541b56ab0176'
         'bd462e6e3921f04d9022f0777262c7c1'
         'd7ef6270bf69427f3d8a331ec86d0662'
         'c4adc854e4b5948b5ded173edbeb6151'
         '73bdae72559964da0ca4688e0dffc892'
         '8dc0fce3082c344cd37f3ef52e99cbf4'
         'ac31f5d486d3eb55395a72471388470e'
         '3f2175428530ba64ff0c4a836f0ad315'
         '8ac9640d5171bfcd6659ae8a24049035'
         '6c13d4a58c006095f298359f15b631dc'
         'f25d34957031b1a660c6b30c61a7fbe6'
         'd9035d32fcd8ef6b6e997996815ec9f6'
         '346f35a3e283863904324b7037adb5d5'
         'f3e9a1d2f1948a00058b588089bf7bad'
         '625b1505c12adcd2c5df121f8196c393'
         '7568190a1ece955bac5971f4e9c412f2'
         'd1875a6682d3791aaaf83326bb259aaa'
         '21979515498858fee2396173cf7d22ca'
         '539a306c1cb8c9c9d2140755e4618496'
         'b8b7c93d88e623b4555746f5f11ae76b'
         'd39cc073cdbad6b104ac75afbee67699'
         '80698bf12b69b26dcbd8f930195ecd1c'
         '32afdf54cfea213143365f9908565317'
         'af0d03c3a0d04a0712276e3e84b2c4c4'
         '6f2339d9be9deb3ec947cfb3bf80009c'
         '5ec01017c1e29606166ae77c16c28706'
         'ad9f8bd15b35e5571ddd43634571251d'
         '6c2adacc21152d35821f13ff810d642e'
         '56ef9f520d1704e4b67bfb94c714fbca'
         '3768983ba5697b82fcf242f893b8f4e0'
         '94cfb8b4270461c925b62cb31d6ab413'
         '58d53d4720933b88975a117ed5db1f9e'
         '2e38acba4b18f69149d82dcfcbd00015'
         'f8330b28bbedc54bfdd360dee86c3942'
         '6093939d1e0af65caa62b83b0802c6c4'
         '3475c77f5752ae257b62a98acc8bf33f'
         '9703c131a221fd86324c441306093b59'
         'b7d4bac769c47b2e5c592403dcac67d3'
         'a3f65119a3116bd452c83501ea73ac72'
         '7567710e2067b0af83c2e0e606bbff66'
         '8befa1570dec16b9234395fd337c3446'
         '75ee04ebcf21fca9c0a2cb182d0d3f51'
         'f7ed0251a5fd63d8e1000fe430d227a4'
         '6545eab466948a5f8dc50e4bb8e9f8e0'
         'bf28072e4d50ffaf8863bec34717a6cf'
         '370b76baa09c7d9c8ad0bf649f527127'
         'adf4715d236c0694ab55ec2b64b7c222'
         '59c2926aa91c91320589552818f592cb'
         '267b0a7d6fe39f486db53d5bbddcf1fe'
         '0bbe40ffc14b87e119f74de26351c6aa')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile}
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.jar"
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.manifest"
  done
}
